###############################################################################
#
# IAR ANSI C/C++ Compiler V7.10.1.6676/W32 for ARM        18/Jul/2019  11:14:58
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\BSP\variant\mks_variant.c
#    Command line =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\BSP\variant\mks_variant.c
#        -D USE_HAL_DRIVER -D STM32F407xx -D STM32F40_41xxx -D USE_HAL_LIB -D
#        MKS_DLP_BOARD -D TFT35 -lC
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\ -lA
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\
#        --diag_suppress Pa050 -o
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/Obj\
#        --no_unroll --no_inline --no_tbaa --no_scheduling --debug
#        --endian=little --cpu=Cortex-M4F -e --char_is_signed --fpu=VFPv4_sp
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.0\arm\INC\c\DLib_Config_Full.h" -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Inc\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Src\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/STM32F4xx_HAL_Driver/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/FatFs/src/drivers\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/ST/STM32_USB_Host_Library/Core/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/CMSIS/Device/ST/STM32F4xx/Include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/FatFs/src\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/Marlin\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/CMSIS/Include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/variant\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/at24cxx\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/w25qxx\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/ssd2828\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/lcd\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/libstmf4\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/libstmf4/include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/arduino/stm32/cores/arduino\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/ConvertColor\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/ConvertMono\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Core\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Font\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/AntiAlias\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/GUIDemo\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/LCDDriver\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/MemDev\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/MultiLayer\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Widget\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/WM\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI_X\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/Config\
#        -I E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui/Multi_language\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui/QRENCODE\
#        -Om --use_c++_inline -I "C:\Program Files (x86)\IAR Systems\Embedded
#        Workbench 7.0\arm\CMSIS\Include\"
#    List file    =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\mks_variant.lst
#    Object file  =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/Obj\mks_variant.o
#
###############################################################################

E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\BSP\variant\mks_variant.c
      1          /**
      2            ******************************************************************************
      3            * @file    stm32f4xx_3dPrinter_misc.c
      4            * @author  IPC Rennes
      5            * @version V1.0.0
      6            * @date    January 29, 2015
      7            * @brief   Miscelleanous functions of 3D Printer BSP driver 
      8            *  (based on L6474)
      9            * @note    (C) COPYRIGHT 2015 STMicroelectronics
     10            ******************************************************************************
     11            * @attention
     12            *
     13            * <h2><center>&copy; COPYRIGHT(c) 2015 STMicroelectronics</center></h2>
     14            *
     15            * Redistribution and use in source and binary forms, with or without modification,
     16            * are permitted provided that the following conditions are met:
     17            *   1. Redistributions of source code must retain the above copyright notice,
     18            *      this list of conditions and the following disclaimer.
     19            *   2. Redistributions in binary form must reproduce the above copyright notice,
     20            *      this list of conditions and the following disclaimer in the documentation
     21            *      and/or other materials provided with the distribution.
     22            *   3. Neither the name of STMicroelectronics nor the names of its contributors
     23            *      may be used to endorse or promote products derived from this software
     24            *      without specific prior written permission.
     25            *
     26            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
     27            * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
     28            * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     29            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
     30            * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
     31            * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
     32            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
     33            * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
     34            * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
     35            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     36            *
     37            ******************************************************************************
     38            */
     39          
     40          /* Includes ------------------------------------------------------------------*/
     41          #include "mks_variant.h"
     42          #include "string.h"
     43          #include <stdio.h>
     44          #include "main.h"
     45          
     46          /* Private defines ----------------------------------------------------------*/
     47          /*  global constant ----------------------------------------------------------*/
     48          #if defined(MKS_DLP_BOARD)	
     49          #define ROBIN_PIN_NUMBER   10

   \                                 In section .data, align 4
     50            GPIO_TypeDef* gArrayGpioPort[ROBIN_PIN_NUMBER] = {
   \                     gArrayGpioPort:
   \   00000000   0x40021400         DC32 40021400H, 40021400H, 40021400H, 40020800H, 40020800H, 40021400H
   \              0x40021400   
   \              0x40021400   
   \              0x40020800   
   \              0x40020800   
   \              0x40021400   
   \   00000018   0x40021400         DC32 40021400H, 40021400H, 40021800H
   \              0x40021400   
   \              0x40021800   
   \   00000024   0x00 0x00          DC8 0, 0, 0, 0
   \              0x00 0x00    
     51          Z_DIR_GPIO_Port,// 0
     52          Z_STEP_GPIO_Port,// 1
     53          Z_ENA_GPIO_Port,// 2
     54          ZMIN_GPIO_Port,// 3
     55          ZMAX_GPIO_Port,// 4
     56          EXT_DIR_GPIO_Port,// 5
     57          EXT_STEP_GPIO_Port,// 6
     58          EXT_ENA_GPIO_Port,// 7
     59          NULL_OUT_GPIO_Port,	//8
     60          
     61          };
     62          

   \                                 In section .data, align 4
     63          uint16_t gArrayGpioPin[ROBIN_PIN_NUMBER] = {
   \                     gArrayGpioPin:
   \   00000000   0x0100 0x0200      DC16 256, 512, 1024, 1, 4, 32, 64, 128, 32, 0
   \              0x0400 0x0001
   \              0x0004 0x0020
   \              0x0040 0x0080
   \              0x0020 0x0000
     64           
     65          Z_DIR_Pin,	//0  
     66          Z_STEP_Pin,
     67          Z_ENA_Pin,
     68          ZMIN_Pin,         
     69          ZMAX_Pin,                
     70          EXT_DIR_Pin,	  
     71          EXT_STEP_Pin,
     72          EXT_ENA_Pin,
     73          NULL_OUT_Pin,
     74          }; 
     75          #endif
     76          
     77          /* Imported variables ---------------------------------------------------------*/
     78          
     79          /******************************************************//**
     80           * @brief  General error handler
     81           * @param None
     82           * @retval None
     83           **********************************************************/
     84          extern void kill_c(const char* lcd_msg);
     85          

   \                                 In section .text, align 2, keep-with-next
     86          void BSP_MiscErrorHandler(uint16_t error)
     87          {
   \                     BSP_MiscErrorHandler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     88            /* Infinite loop */
     89             kill_c("BSP error");
   \   00000002   0x.... 0x....      ADR.W    R0,`?<Constant "BSP error">`
   \   00000006   0x.... 0x....      BL       kill_c
     90            
     91            while(1)
   \                     ??BSP_MiscErrorHandler_0: (+1)
   \   0000000A   0xE7FE             B.N      ??BSP_MiscErrorHandler_0
     92            {
     93            }
     94          }

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "BSP error">`:
   \   00000000   0x42 0x53          DC8 "BSP error"
   \              0x50 0x20    
   \              0x65 0x72    
   \              0x72 0x6F    
   \              0x72 0x00    
   \   0000000A   0x00 0x00          DC8 0, 0
     95          /**
     96            * @}
     97            */    
     98          
     99          /************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   BSP_MiscErrorHandler
         8   -> kill_c


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      12  ?<Constant "BSP error">
      12  BSP_MiscErrorHandler
      20  gArrayGpioPin
      40  gArrayGpioPort

 
 60 bytes in section .data
 24 bytes in section .text
 
 24 bytes of CODE memory
 60 bytes of DATA memory

Errors: none
Warnings: none
